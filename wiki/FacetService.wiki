#sidebar Sidebar
#labels Autogenerated
#summary Represents a store's facet service.

*note:* this page is automatically generated from embedded documentation in the PHP source.

= Overview =

<dl>
<dt>See Also:</dt>
<dd><a href="http://n2.talis.com/wiki/Facet_Service">http://n2.talis.com/wiki/Facet_Service</a></dd>
</dl>
== Constructors ==
 * [#FacetService FacetService] - Create a new instance of this class
== Methods ==
 * [#facets facets] - Perform a facet query
 * [#facets_to_array facets_to_array] - Perform a facet query and return the results as an array.
 * [#make_facet_uri make_facet_uri]
 * [#parse_facet_xml parse_facet_xml] - Parse the response from a facet query into an array.

= Constructor Detail =

== FacetService ==

{{{
public FacetService(string uri, Credentials credentials, mixed request_factory)
}}}

Create a new instance of this class<dl>
<dt>Parameters:</dt>
<dd>uri - URI of the facet service</dd>
<dd>credentials - the credentials to use for authenticated requests (optional)</dd>
</dl>


= Method Detail =

== facets ==

{{{
public HttpResponse facets(string query, array fields, in top)
}}}

Perform a facet query<dl>
<dt>Parameters:</dt>
<dd>query - the query to execute</dd>
<dd>fields - the list of fields to facet on</dd>
<dd>top - the number of facet results to return</dd>
</dl>


== facets_to_array ==

{{{
public array facets_to_array(string query, array fields, in top)
}}}

Perform a facet query and return the results as an array. An empty array is returned if there are any HTTP errors.<dl>
<dt>Parameters:</dt>
<dd>query - the query to execute</dd>
<dd>fields - the list of fields to facet on</dd>
<dd>top - the number of facet results to return</dd>
<dt>Returns:</dt>
<dd>see parse_facet_xml for the structure of this array</dd>
</dl>


== make_facet_uri ==

{{{
public void make_facet_uri(mixed query, mixed fields, mixed top)
}}}



== parse_facet_xml ==

{{{
public array parse_facet_xml(string xml)
}}}

Parse the response from a facet query into an array.  This method returns an associative array where the keys correspond to field name and the values are  associative arrays with two keys:  <ul>  <li><em>value</em> => the value of the field</li>  <li><em>number</em> => the associated number returned by the facet service</li>  </ul><dl>
<dt>Parameters:</dt>
<dd>xml - the facet response as an XML document</dd>
</dl>


